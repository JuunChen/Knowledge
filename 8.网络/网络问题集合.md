### 1. HTTP 的报文格式？

```
第一部分（第一行）-- 请求行：方法 HTTP版本或者 响应行：协议版本 状态码 状态码描述
第二部分 -- 首部字段
第三部分 -- body
```

### 2. HTTP 的连接过程是怎样的？

- 三次握手建立 TCP 连接
- 在 TCP 连接通道上用 HTTP 协议进行数据传递
- 完成请求
  - HTTP 1.0 直接断开 TCP 连接
  - HTTP 1.1 默认是长连接，可以设置 TCP 连接持续的时间、TCP 连接通道可以发送的请求/响应次数

### 3. POST 与 GET 的区别？

- GET 请求把参数拼接在 URL 中，POST 请求参数写在请求体中
- GET 请求的参数长度有限制，POST 一般没有限制
- POST 相对安全
  - 浏览器可以保存浏览记录，如果使用 GET 请求，很容易被别人看到参数信息
  - 服务器会记录请求记录，如果服务器被攻破，很容易拿到 GET 请求中的参数信息
- 从语义上讲 GET 请求是查询数据，不应该引起服务端的状态变化。POST 请求是改数据，是可以引起服务端状态变化的。

### 4. 常见的状态码解释？
	1xx -- 
	2xx -- 请求成功
	3xx -- 发生了重定向
	4xx -- 客户端出错
	5xx -- 服务端出错
### 5. 常见首部字段解释？
	Range 做断点续传用的
	User-Agent 客户端的信息
	......
### 6. HTTP 与 HTTPS 有什么区别？

从连接建立的过程说：

HTTP 连接建立的过程...

HTTPS 连接建立的过程：

1. 客户端在 TCP 握手的时候向服务端请求证书

2. 收到并信任证书后创建对称加密的公钥，使用证书中的公钥对对称加密的公钥进行非对称加密传递给服务端

3. 数据传递的过程中，使用对称加密的公钥对数据进行加密（为什么要使用对称加密：非对称加密很耗时）

   ......

HTTP 为什么不安全：

1. 明文传输
2. 存在中间人攻击

### 7. 为什么需要三次握手，而不是两次？

1. 第一次握手服务端可以确认客户端能够发送报文
2. 第二次握手客户端可以确认服务端能够发送和接收报文
3. 第三次握手服务端能够确认客户端可以接收报文

https://www.cnblogs.com/heyonggang/p/11634228.html
### 8. 为什么需要四次握手，而不是三次？

1. 前两次握手关闭了客户端向服务端的通道
2. 此时，服务端有可能还要向客户端发送数据
3. 所以要等一会，服务端向客户端发送断开连接的报文，通过两次握手断开连接

### 9.  为什么第四次挥手时，客户端会等待2MSL再断开连接？

为了保证服务端能收到客户端发送的最后一个报文。因为这个报文有可能丢失，服务端如果没收到会超时重传断开连接的报文，客户端收到后会重新发送确认报文，并重启定时器。这套机制保证两边都能正常断开连接。

### 10. 什么是DNS劫持

在 HTTP 连接建立之前，会先向 DNS 服务器获取域名对应的 ip 地址。这个过程采用的是 UDP 协议，且明文传输，可能被钓鱼服务器劫持，返回给客户端一个错误的 ip 地址。

解决办法：

1. HttpDNS

   本来是用 DNS 协议向 DNS 服务器的 53 端口请求 ip 地址，修改成使用 HTTP 协议向 DNS 服务器的 80 端口请求 ip 地址。

   这样就不产生正常的 DNS 解析了，这样就不会产生 DNS 解析的问题了。

   解决方案：阿里云 HttpDNS 或者 腾讯云 HttpDNS

   ​	a. DNS 优化 https://segmentfault.com/a/1190000020805202，这个得掌握

   ​	b. 连接优化 https://segmentfault.com/a/1190000020806196 太难了，了解思路就行了

2. 长连接

   ​	没搞明白，先不考虑了

### 11. TCP 与 UDP

UDP：广播

TCP：点对点 、流量缓冲、数据可靠（重发、滑动窗口协议）、拥塞控制

socket不是协议。它是一个抽象层，为了方便大家使用更底层的协议。

### 12. 什么是 websocket？

1. 已经有了 HTTP 协议，为什么还需要 WebSocket 协议呢？

   HTTP 是单向的网络传输协议，只能由客户端发起，服务端响应。服务端不能向客户端主动发送数据。

   如果客户端有实时更新的需求，用 HTTP 只能靠短轮询或者长轮询来实现。

   - 短轮询：客户端定时向服务端发送请求，服务端立即响应。浪费网络带宽和CPU。
   - 长轮询：客户端向服务端发送请求，服务端不立即响应，而是等到有数据更新的时候才响应，客户端收到响应的时候再发送一个请求。缺点：服务端有第二次数据更新时，必须等到客户端的请求到来才能发送，耗时较长；发送的数据中往往头部信息较多，body 信息却很少，浪费带宽。

   为了解决实时更新的问题，就诞生了 WebSocket 协议。

2. WebSocket 与 socket

   Socket 并不是协议，它位于会话层，是对底层协议的抽象，方便我们使用底层协议。一个 socket 实例代表一个主机上的应用程序的通信链路，需要知道 ip + port。

   WebSocket 是位于应用层的协议。

   从使用上来说 WebSocket 更容易，Socket 更灵活。

https://zhuanlan.zhihu.com/p/51279572





对称加密 ，使用同一把密钥加密和解密。 AES、DES 等
非对称加密，公钥加密，私钥解密。安全，性能极差。 RSA

非对称加密为什么要使用数字证书？
因为中间人攻击的存在，客户端无法确定请求到的公钥不是被伪造的
数字证书：本质上是公钥，还包括权威CA（证书颁发机构）对公钥进行的数字签名
数字证书 = 公钥 + 第三方签名
数字证书：
1.CA签名 要花钱买；大家都信任；例如 www.github.com
2.自签名  不用买；别人都不信任；例如 www.12306.cn