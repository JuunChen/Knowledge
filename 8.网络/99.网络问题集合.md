### 10. 什么是DNS劫持

在 HTTP 连接建立之前，会先向 DNS 服务器获取域名对应的 ip 地址。这个过程采用的是 UDP 协议，且明文传输，可能被钓鱼服务器劫持，返回给客户端一个错误的 ip 地址。

解决办法：

1. HttpDNS

   本来是用 DNS 协议向 DNS 服务器的 53 端口请求 ip 地址，修改成使用 HTTP 协议向 DNS 服务器的 80 端口请求 ip 地址。

   这样就不产生正常的 DNS 解析了，这样就不会产生 DNS 解析的问题了。

   解决方案：阿里云 HttpDNS 或者 腾讯云 HttpDNS

   ​	a. DNS 优化 https://segmentfault.com/a/1190000020805202，这个得掌握

   ​	b. 连接优化 https://segmentfault.com/a/1190000020806196 太难了，了解思路就行了

2. 长连接

   ​	没搞明白，先不考虑了

### 11. TCP 与 UDP

UDP：广播

TCP：点对点 、流量缓冲、数据可靠（重发、滑动窗口协议）、拥塞控制

socket不是协议。它是一个抽象层，为了方便大家使用更底层的协议。

### 12. 什么是 websocket？

1. 已经有了 HTTP 协议，为什么还需要 WebSocket 协议呢？

   HTTP 是单向的网络传输协议，只能由客户端发起，服务端响应。服务端不能向客户端主动发送数据。

   如果客户端有实时更新的需求，用 HTTP 只能靠短轮询或者长轮询来实现。

   - 短轮询：客户端定时向服务端发送请求，服务端立即响应。浪费网络带宽和CPU。
   - 长轮询：客户端向服务端发送请求，服务端不立即响应，而是等到有数据更新的时候才响应，客户端收到响应的时候再发送一个请求。缺点：服务端有第二次数据更新时，必须等到客户端的请求到来才能发送，耗时较长；发送的数据中往往头部信息较多，body 信息却很少，浪费带宽。

   为了解决实时更新的问题，就诞生了 WebSocket 协议。

2. WebSocket 与 socket

   Socket 并不是协议，它位于会话层，是对底层协议的抽象，方便我们使用底层协议。一个 socket 实例代表一个主机上的应用程序的通信链路，需要知道 ip + port。

   WebSocket 是位于应用层的协议。

   从使用上来说 WebSocket 更容易，Socket 更灵活。

https://zhuanlan.zhihu.com/p/51279572





